[plantuml, sequance-diagram, svg]
----
@startuml

Participant Server
Participant Server.Client as Clients
Participant Client.Client as Client

==from server, server only==
Server -> Server : invoke()
==from client, server only==
Client -> Client : AddAction()
Client -> Server : action
Server -> Server : invoke()
==from server, both==
Server -> Server : invoke()
Server -> Server : OnActionRun()
Server -> Clients : AddAction()
Clients -> Client : action
Client -> Client : Invoke()
==From Client, both==
Client -> Client : invoke()
Client -> Client : AddAction()
Client -> Server : action
Server -> Server : Invoke()
alt Action could not be run succesfully
	Server -> Client : Sync()
else
	alt Client != sender
	Server -> Server : AddAction()
		Server -> Clients : action
		Clients -> Clients : Invoke 
	end
end


@endumnl
----